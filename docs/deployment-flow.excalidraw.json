{
  "type": "excalidraw",
  "version": 2,
  "source": "https://excalidraw.com",
  "elements": [
    {
      "id": "title",
      "type": "text",
      "x": 400,
      "y": 50,
      "width": 600,
      "height": 35,
      "fontSize": 28,
      "fontFamily": 1,
      "text": "Deployment & CI/CD Flow",
      "textAlign": "center",
      "verticalAlign": "top",
      "baseline": 25
    },
    {
      "id": "dev-local",
      "type": "rectangle",
      "x": 150,
      "y": 150,
      "width": 250,
      "height": 120,
      "backgroundColor": "#e7f5ff",
      "strokeColor": "#1971c2",
      "strokeWidth": 2,
      "fillStyle": "hachure",
      "roughness": 1
    },
    {
      "id": "dev-local-text",
      "type": "text",
      "x": 170,
      "y": 175,
      "width": 210,
      "height": 70,
      "fontSize": 14,
      "fontFamily": 1,
      "text": "üíª Local Dev\nFrontend: npm run dev\n(:5173)\nBackend: uvicorn :8000",
      "textAlign": "left",
      "baseline": 14
    },
    {
      "id": "vite-proxy",
      "type": "rectangle",
      "x": 150,
      "y": 320,
      "width": 250,
      "height": 100,
      "backgroundColor": "#d3f9d8",
      "strokeColor": "#37b24d",
      "strokeWidth": 2,
      "fillStyle": "hachure",
      "roughness": 1
    },
    {
      "id": "vite-proxy-text",
      "type": "text",
      "x": 170,
      "y": 345,
      "width": 210,
      "height": 50,
      "fontSize": 14,
      "fontFamily": 1,
      "text": "Vite Proxy:\n/api ‚Üí localhost:8000\n(strips /api prefix)",
      "textAlign": "left",
      "baseline": 14
    },
    {
      "id": "git-push",
      "type": "rectangle",
      "x": 500,
      "y": 150,
      "width": 250,
      "height": 120,
      "backgroundColor": "#fff9db",
      "strokeColor": "#f59f00",
      "strokeWidth": 3,
      "fillStyle": "hachure",
      "roughness": 1
    },
    {
      "id": "git-push-text",
      "type": "text",
      "x": 520,
      "y": 175,
      "width": 210,
      "height": 70,
      "fontSize": 14,
      "fontFamily": 1,
      "text": "üì¶ Git Push\ngit push origin master\nGitHub: shra1-honade/\nprotein-calorie-tracker",
      "textAlign": "left",
      "baseline": 14,
      "fontWeight": "bold"
    },
    {
      "id": "vercel-deploy",
      "type": "rectangle",
      "x": 850,
      "y": 150,
      "width": 300,
      "height": 180,
      "backgroundColor": "#b2f2bb",
      "strokeColor": "#2f9e44",
      "strokeWidth": 3,
      "fillStyle": "hachure",
      "roughness": 1
    },
    {
      "id": "vercel-deploy-text",
      "type": "text",
      "x": 870,
      "y": 170,
      "width": 260,
      "height": 140,
      "fontSize": 14,
      "fontFamily": 1,
      "text": "üåê Vercel Auto-Deploy\n1. Webhook from GitHub\n2. npm install\n3. npm run build (Vite)\n4. Deploy to CDN\n5. Live in ~60s\n\nURL: protein-calorie-\ntracker.vercel.app",
      "textAlign": "left",
      "baseline": 14
    },
    {
      "id": "render-deploy",
      "type": "rectangle",
      "x": 850,
      "y": 400,
      "width": 300,
      "height": 200,
      "backgroundColor": "#ffec99",
      "strokeColor": "#f08c00",
      "strokeWidth": 3,
      "fillStyle": "hachure",
      "roughness": 1
    },
    {
      "id": "render-deploy-text",
      "type": "text",
      "x": 870,
      "y": 420,
      "width": 260,
      "height": 160,
      "fontSize": 14,
      "fontFamily": 1,
      "text": "üêç Render Auto-Deploy\n1. Webhook from GitHub\n2. pip install -r requirements.txt\n3. Build Docker image\n4. Deploy container\n5. Live in ~3-5min\n\nURL: .onrender.com\nSpins down after 15min idle",
      "textAlign": "left",
      "baseline": 14
    },
    {
      "id": "neon-db",
      "type": "rectangle",
      "x": 500,
      "y": 400,
      "width": 250,
      "height": 120,
      "backgroundColor": "#ffc9c9",
      "strokeColor": "#c92a2a",
      "strokeWidth": 2,
      "fillStyle": "hachure",
      "roughness": 1
    },
    {
      "id": "neon-db-text",
      "type": "text",
      "x": 520,
      "y": 425,
      "width": 210,
      "height": 70,
      "fontSize": 14,
      "fontFamily": 1,
      "text": "üóÑÔ∏è Neon PostgreSQL\nServerless, always-on\nNo deploys needed\nConnection string in\nRender env vars",
      "textAlign": "left",
      "baseline": 14
    },
    {
      "id": "vercel-config",
      "type": "rectangle",
      "x": 150,
      "y": 500,
      "width": 250,
      "height": 140,
      "backgroundColor": "#d0bfff",
      "strokeColor": "#6741d9",
      "strokeWidth": 2,
      "fillStyle": "hachure",
      "roughness": 1
    },
    {
      "id": "vercel-config-text",
      "type": "text",
      "x": 170,
      "y": 520,
      "width": 210,
      "height": 100,
      "fontSize": 13,
      "fontFamily": 1,
      "text": "frontend/vercel.json:\n{\n  rewrites: [\n    /api/* ‚Üí render,\n    /(.*) ‚Üí /index.html\n  ]\n}",
      "textAlign": "left",
      "baseline": 13
    },
    {
      "id": "arrow-local-git",
      "type": "arrow",
      "x": 400,
      "y": 210,
      "width": 90,
      "height": 0,
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "strokeColor": "#000000",
      "strokeWidth": 2
    },
    {
      "id": "arrow-git-vercel",
      "type": "arrow",
      "x": 750,
      "y": 210,
      "width": 90,
      "height": 0,
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "strokeColor": "#2f9e44",
      "strokeWidth": 3
    },
    {
      "id": "arrow-git-render",
      "type": "arrow",
      "x": 625,
      "y": 270,
      "width": 300,
      "height": 230,
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "strokeColor": "#f08c00",
      "strokeWidth": 3
    },
    {
      "id": "arrow-render-neon",
      "type": "arrow",
      "x": 850,
      "y": 500,
      "width": -90,
      "height": 0,
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "strokeColor": "#c92a2a",
      "strokeWidth": 2
    },
    {
      "id": "user-request-box",
      "type": "rectangle",
      "x": 150,
      "y": 720,
      "width": 1000,
      "height": 200,
      "backgroundColor": "#fff4e6",
      "strokeColor": "#fd7e14",
      "strokeWidth": 3,
      "fillStyle": "solid",
      "roughness": 0
    },
    {
      "id": "user-request-title",
      "type": "text",
      "x": 180,
      "y": 740,
      "width": 400,
      "height": 25,
      "fontSize": 18,
      "fontFamily": 1,
      "text": "üåç Production Request Flow:",
      "textAlign": "left",
      "baseline": 18,
      "fontWeight": "bold"
    },
    {
      "id": "user-request-text",
      "type": "text",
      "x": 180,
      "y": 775,
      "width": 940,
      "height": 130,
      "fontSize": 14,
      "fontFamily": 1,
      "text": "User ‚Üí https://protein-calorie-tracker.vercel.app\n  ‚Ü≥ Static assets (HTML/JS/CSS) served from Vercel CDN (instant)\n  ‚Ü≥ API calls to /api/* ‚Üí Vercel rewrites to https://.onrender.com/*\n    ‚Ü≥ Render backend (may cold-start ~30s if sleeping)\n      ‚Ü≥ asyncpg pool ‚Üí Neon PostgreSQL (serverless, instant)\n        ‚Ü≥ JSON response ‚Üí Vercel ‚Üí User\n\nSPA routes (/, /log, /groups) ‚Üí Vercel serves index.html ‚Üí React Router handles routing",
      "textAlign": "left",
      "baseline": 14
    },
    {
      "id": "env-vars-box",
      "type": "rectangle",
      "x": 150,
      "y": 980,
      "width": 1000,
      "height": 140,
      "backgroundColor": "#f8f9fa",
      "strokeColor": "#495057",
      "strokeWidth": 2,
      "fillStyle": "solid",
      "roughness": 0
    },
    {
      "id": "env-vars-title",
      "type": "text",
      "x": 180,
      "y": 1000,
      "width": 300,
      "height": 25,
      "fontSize": 18,
      "fontFamily": 1,
      "text": "üîê Environment Variables:",
      "textAlign": "left",
      "baseline": 18,
      "fontWeight": "bold"
    },
    {
      "id": "env-vars-text",
      "type": "text",
      "x": 180,
      "y": 1035,
      "width": 940,
      "height": 70,
      "fontSize": 14,
      "fontFamily": 1,
      "text": "Render (backend/.env):\nGOOGLE_CLIENT_ID, GOOGLE_CLIENT_SECRET, JWT_SECRET, GEMINI_API_KEY,\nFRONTEND_URL=https://protein-calorie-tracker.vercel.app,\nDATABASE_URL=postgresql://...neon.tech/neondb?sslmode=require",
      "textAlign": "left",
      "baseline": 14
    }
  ],
  "appState": {
    "viewBackgroundColor": "#ffffff"
  }
}
